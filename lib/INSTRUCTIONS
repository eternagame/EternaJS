### VIENNA 2.1.8
################
## This is how the patch file was created.
## diff -ur diff -ur ViennaRNA-2.1.8 ViennaRNA-2.1.8_patched > vrna2_patch

patch -t -p0 < vrna2_patch
cp vrna2_CML.txt ViennaRNA-2.1.8/CMakeLists.txt
cp -r vrna2_emscripten_bindings ViennaRNA-2.1.8/emscripten
cp -r ./libsvm-2.91 ViennaRNA-2.1.8
pushd ViennaRNA-2.1.8
./configure
popd


### VIENNA 1.8.5
################
## This is how the patch file was created.
##



### NUPACK
##########
## This is how the patch file was created.
## diff -ur nupack3.2.2_stock nupack3.2.2 > nupack_patch

# With your fresh download, unzipped into nupack3.2.2...
patch -t -p0 < nupack_patch
cp nupack_CML.txt nupack3.2.2/CMakeLists.txt
cp -r nupack_emscripten_bindings nupack3.2.2/emscripten
mv nupack3.2.2/src/shared/externals.c.in nupack3.2.2/src/shared/externals.c
sed -i -e s/'unsigned int seqHash/extern unsigned int seqHash/g' nupack3.2.2/src/thermo/core/ene.c
sed -i -e s/'int nupack_random_seed/extern unsigned int nupack_random_seed/g' nupack3.2.2/src/thermo/core/ReadCommandLineNPK.c


### LinearFold
##############
## This is how the patch file was created.
## diff -ur LinearFoldGit LinearFold  > linearfold_patch

# With your fresh git checkout of LinearFold/LinearFold...
patch -t -p0 < linearfold_patch
cp linearfold_CML.txt LinearFold/CMakeLists.txt
cp -r linearfold_emscripten_bindings LinearFold/emscripten
echo "#ifndef LINEARFOLD_EVAL_H\n#define LINEARFOLD_EVAL_H\n#include <string>\n\nlong eval(std::string seq, std::string ref, bool is_verbose);\n#endif" > LinearFold/LinearFoldEval.h
